<div data-ng-controller="editor">
            <div class="editor" data-ace="" data-ng-model="content"></div>
        </div>

        var myapp = angular.module('myapp', ['ngAnimate', 'ui.bootstrap']);
angular.module('myapp').controller('myCtrl', [ '$scope', function($scope) {
    

    $scope.aceLoaded = function(_editor) {
      // Options
      console.log('I am in the aceLoaded');


      $scope.editor = _editor;
      _editor.setReadOnly(true);
    };

    $scope.aceChanged = function(e) {
      //
    };

}]);
// var app = angular.module('app', []);

// angular.module('myapp').controller('editor', function ($scope) {
//     $scope.content = '# Ace Directive ';
// });

// angular.module('myapp').directive('ace', ['$timeout', function ($timeout) {

//     var resizeEditor = function (editor, elem) {
//         console.log('I am the resizeEditor----');
//         var lineHeight = editor.renderer.lineHeight;
//         var rows = editor.getSession().getLength();

//         // $(elem).height(rows * lineHeight);
//         editor.resize();
//     };

//     return {
//         restrict: 'A',
//         require: '?ngModel',
//         scope: true,
//         link: function (scope, elem, attrs, ngModel) {
//             var node = elem[0];

//             var editor = ace.edit(node);

//             editor.setTheme('ace/theme/xcode');

//             // var MarkdownMode = require('ace/mode/markdown').Mode;
//             // editor.getSession().setMode(new MarkdownMode());

//             // set editor options
//             editor.setShowPrintMargin(false);

//             // data binding to ngModel
//             ngModel.$render = function () {
//                 editor.setValue(ngModel.$viewValue);
//                 resizeEditor(editor, elem);
//             };

//             editor.on('change', function () {
//                 console.log('I am in the change function');
//                 console.log(editor.getSession().getValue());

//                 $timeout(function () {
//                     scope.$apply(function () {
//                         var value = editor.getValue();
//                         ngModel.$setViewValue(value);
//                     });
//                 });

//                 resizeEditor(editor, elem);
//             });
//             editor.on('onChange', function () {
//                 console.log('I am in the onChange function');
//             });
//         }
//     };
// }]);